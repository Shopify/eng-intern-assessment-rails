<div class="wrapper">
  <h1>Articles</h1>

  <div class="new-article-link">
    <%= link_to "New Article", new_article_path %>
    <%= link_to "Back", articles_path, class: "back-to-articles-link", style: "display: #{params[:query].present? ? 'inline-block' : 'none'}" %>
  </div>
  
  <div class="form-search">
    <%= form_tag(search_articles_path, method: :get) do %>
      <%= text_field_tag(:query, params[:query], placeholder: "Search articles...") %>
      <%= submit_tag("Search") %>
    <% end %>
  </div>

  <ul>
    <% @articles.each do |article| %>
      <li>
        <div class="article-content">
          <%= link_to article.title, article, class: "article-title" %>
          <p class="article-info">Author: <%= article.author %> | Date: <%= article.date %></p>
          <% truncated_content = truncate(article.content, length: 100, separator: ' ', omission: '...') %>
          <p><%= truncated_content %></p>
        </div>
      </li>
    <% end %>
  </ul>
</div>
