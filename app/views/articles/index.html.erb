<h1>Articles</h1>

<% @articles.each do |article| %>
  <li>
    <%= link_to article.title, article %>
  </li>
<% end %>

<br/>

<%= link_to "New Article", new_article_path %>

<br/>

<%= form_with(url: articles_path, method: :get, local: true) do |form| %>
  <div class="field">
    <%= form.label :search, "Search Articles" %>
      <%= form.text_field :search, placeholder: "Search something..." %>
    </div>
  <div class="actions">  
    <%= form.submit "Search" %>
  </div>
<% end %>


<% if params[:search].present? %>
  <% if @articles.empty? %>
    <p>No articles found.</p>
  <% else %>
    <ul>
      <% @articles.each do |article| %>
        <p>Articles found:</p>
        <li><%= link_to article.title, article %></li>
      <% end %>
    </ul>
  <% end %>
  <li><%= link_to "Go Back", root_path(@article) %></li>
<% end %>
