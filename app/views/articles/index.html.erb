<%# Homepage for the encyclopedia. Articles are stored within a table, with each column being the Article fields %>
<h1 id="main_title">The Encyclopedia</h1>

<br> 

<%= link_to "New Article", new_article_path %>

<br>

<div class="text-center mt-8">
  <%= form_tag articles_path, method: :get, class: "mx-auto max-w-md" do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search by name or content", class: "p-2 border rounded w-full", id: "search_bar" %>
    <%= submit_tag "Search", class: "bg-blue-500 text-white px-4 py-2 rounded-md mt-2 w-full", id: "search_submit" %>
  <% end %>
</div>

<br>

<table id="articles_table">
  <tbody>
    <tr>
      <th scope="col">Title</th>
      <th scope="col">Content</th>
      <th scope="col">Author</th>
      <th scope="col">Date Created</th>
    </tr>
    <% @articles.each do |article| %>
      <tr>
        <th scope="row">
          <a href="<%= article_path(article) %>">
            <%= link_to article.title, article %>
          </a>
        </th>
        <td><%= article.content %></td>
        <td><%= article.author %></td>
        <td><%= article.date %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>
