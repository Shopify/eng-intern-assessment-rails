<!-- View for the index action -->
<h1>Articles Main Page</h1>

<%= form_tag(search_articles_path, method: :get) do %>
  <p>
    <%= text_field_tag :query, params[:query], placeholder: 'Enter search parameters: ' %>
    <%= submit_tag 'Search Articles' %>
  </p>
<% end %>

<% if @articles.any? %>
  <table>
    <thead>
    <tr>
      <th>Title</th>
      <th>Content</th>
      <th>Author</th>
      <th>Published Date</th>
      <th colspan="3"></th>
    </tr>
    </thead>
    <tbody>
    <% @articles.each do |article| %>
      <tr>
        <td><%= link_to article.title, article %></td>
        <td><%= article.content %></td>
        <td><%= article.author %></td>
        <td><%= article.date %></td>
        <td><%= link_to 'Show', article %></td>
        <td><%= link_to 'Edit', edit_article_path(article) %></td>
        <td><%= link_to 'Delete', article, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% else %>
  <p>No articles found.</p>
<% end %>

<%= link_to 'New Article', new_article_path %>

